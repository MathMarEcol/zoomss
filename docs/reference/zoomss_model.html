<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Main ZooMSS model function for complete simulations — zoomss_model • zoomss</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Main ZooMSS model function for complete simulations — zoomss_model"><meta name="description" content="This is the main wrapper function that orchestrates a complete ZooMSS
model simulation from parameter setup through model execution to output processing."><meta property="og:description" content="This is the main wrapper function that orchestrates a complete ZooMSS
model simulation from parameter setup through model execution to output processing."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">zoomss</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/zoomss.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MathMarEcol/zoomss/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Main ZooMSS model function for complete simulations</h1>
      <small class="dont-index">Source: <a href="https://github.com/MathMarEcol/zoomss/blob/HEAD/R/zoomss_model.R" class="external-link"><code>R/zoomss_model.R</code></a></small>
      <div class="d-none name"><code>zoomss_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the main wrapper function that orchestrates a complete ZooMSS
model simulation from parameter setup through model execution to output processing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">zoomss_model</span><span class="op">(</span><span class="va">input_params</span>, Groups <span class="op">=</span> <span class="cn">NULL</span>, isave <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input-params">input_params<a class="anchor" aria-label="anchor" href="#arg-input-params"></a></dt>
<dd><p>Data frame containing model parameters and environmental time series.
Must include columns: time (time vector in years), sst (sea surface temperature),
and chl (chlorophyll). Can optionally include cellID for spatial data. The time step (dt)
and maximum time (tmax) are automatically calculated from the time vector. Can be created using createInputParams().</p></dd>


<dt id="arg-groups">Groups<a class="anchor" aria-label="anchor" href="#arg-groups"></a></dt>
<dd><p>Data frame defining functional groups with their biological parameters.
Must include columns defining species characteristics, size ranges, and feeding parameters.
If NULL, uses default ZooMSS functional groups. Can be obtained/customized using
getGroups().</p></dd>


<dt id="arg-isave">isave<a class="anchor" aria-label="anchor" href="#arg-isave"></a></dt>
<dd><p>Save frequency in time steps (default: 10)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Complete ZooMSS model results object containing:</p><ul><li><p>param: Model parameters and environmental forcing data</p></li>
<li><p>time: Time values corresponding to saved results (accounting for isave)</p></li>
<li><p>abundance: Abundance time series (time x groups x size classes)</p></li>
<li><p>growth: Growth rate time series</p></li>
<li><p>mortality: Mortality rate time series</p></li>
<li><p>diet: Diet composition time series</p></li>
<li><p>Additional model structure and kernel data</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Run Complete ZooMSS Model Simulation</p>
<p>This function coordinates the entire ZooMSS modeling workflow:</p><ol><li><p>Validates that environmental time series data is provided</p></li>
<li><p>Sets up model parameters using the Groups data and input parameters</p></li>
<li><p>Initializes the model structure and feeding kernels</p></li>
<li><p>Runs the model forward in time with dynamic environmental forcing</p></li>
<li><p>Processes outputs by averaging the final 50% of the simulation</p></li>
<li><p>Returns organized results including abundances, diets, growth, and mortality</p></li>
</ol><p>This is the primary entry point for
running ZooMSS simulations with environmental forcing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Basic usage with default groups</span></span></span>
<span class="r-in"><span><span class="va">env_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="createEnviroData.html">createEnviroData</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">input_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="createInputParams.html">createInputParams</a></span><span class="op">(</span><span class="va">env_data</span><span class="op">$</span><span class="va">time</span>, <span class="va">env_data</span><span class="op">$</span><span class="va">sst</span>, <span class="va">env_data</span><span class="op">$</span><span class="va">chl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">zoomss_model</span><span class="op">(</span><span class="va">input_params</span>, isave <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using custom groups</span></span></span>
<span class="r-in"><span><span class="va">Groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="getGroups.html">getGroups</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Get default groups</span></span></span>
<span class="r-in"><span><span class="va">Groups</span><span class="op">$</span><span class="va">W0</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">12.5</span>          <span class="co"># Modify a parameter</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">zoomss_model</span><span class="op">(</span><span class="va">input_params</span>, <span class="va">Groups</span>, isave <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Loading groups from file</span></span></span>
<span class="r-in"><span><span class="va">custom_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="getGroups.html">getGroups</a></span><span class="op">(</span>source <span class="op">=</span> <span class="st">"file"</span>, file <span class="op">=</span> <span class="st">"my_groups.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">zoomss_model</span><span class="op">(</span><span class="va">input_params</span>, <span class="va">custom_groups</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason D. Everett, Ryan F. Heneghan, Kieran Murphy, Anthony J. Richardson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

